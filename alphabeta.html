<script type="text/javascript" src="jsmol/JSmol.min.js"></script>
<script type="text/javascript">
    var Info = {
        color: "#FFFFFF", // white background
        height: 400,
        width: "100%", // fill the JSMol box to its container's width
        coverImage: "images/white.png",
        deferApplet: true, // don't load until user clicks on JSMol box
        deferUncover: true, // don't uncover until script fully executed
        script: "script scripts/alphabeta1.txt",
        use: "HTML5",
        j2sPath: "jsmol/j2s",
        serverURL: "http://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php",
        disableInitialConsole: true,
        debug: false,
    };

    // don't load any JSMol until the page itself has finished loading
    $(document).ready(function(){
        // prevent JSMol from taking entire page
        Jmol.setDocument(0);
        // create new JSMol instance with parameters defined in Info above
        Jmol.getApplet("myJmol1", Info);
        // reuse Info parameters for subsequent JSMol instances, changing
        // only the script path
        Info.script = "script scripts/alphabeta2.txt";
        Jmol.getApplet("myJmol2", Info);
        // put JSMol code into the correct containers (id=jsmolWindowN)
        $("#jsmolWindow1").html(Jmol.getAppletHtml(myJmol1));
        $("#jsmolWindow2").html(Jmol.getAppletHtml(myJmol2));
        // give our JSMol containers breathing room above and below
        $("#myJmol1_appletinfotablediv").css({
                "margin-top": "10px",
                "margin-right": "auto",
                "margin-bottom": "10px",
                "margin-left": "auto"
            });
        $("#myJmol2_appletinfotablediv").css({
                "margin-top": "10px",
                "margin-right": "auto",
                "margin-bottom": "10px",
                "margin-left": "auto"
            });
        $("#resetBtn1").click(reset1);
        $("#resetBtn2").click(reset2);
        $("#spinBox1").click(spin1);
        $("#spinBox2").click(spin2);
    });

    function reset1(event){
        Jmol.script(myJmol1, "script scripts/alphabeta1.txt")
    };

    function reset2(event){
        Jmol.script(myJmol2, "script scripts/alphabeta2.txt")
    };

    function spin1(event){
        if (event.target.checked){
            Jmol.script(myJmol1, "set spin x 10; set spin y 10; spin on")
        } else {
            Jmol.script(myJmol1, "spin off")
        };
    };

    function spin2(event){
        if (event.target.checked){
            Jmol.script(myJmol2, "set spin x 10; set spin y 10; spin on")
        } else {
            Jmol.script(myJmol2, "spin off")
        };
    };

    // turn off the JSMol alert that binary file loading is limited
    Jmol._alertNoBinary = false;
</script>

<!-- Page Title: Alpha/Beta Proteins -->
<h2>Introduction</h2>
<p>
    These scripts show some examples of alpha/beta domain proteins.
</p>
<br>

<h2>Triosephosphate isomerase</h2>
<p>
    TIM has an alpha/beta barrel structure with an inner barrel of beta sheets
    and an outer barrel of alpha helices. (Based on 1ypi.pdb, E. Lolis et al.
    (1990) Biochem. <strong>29</strong>: 6609)
</p>
<!-- JSMol Window Container -->
<div id="jsmolWindow1"></div>
<!-- UI Control Box -->
<div style="text-align: center;">
    <!-- give the button a right margin for spacing -->
    <button type="button" id="resetBtn1" style="margin-right: 10px;">Reset</button>
    <input type="checkbox" id="spinBox1"> Spin On/Off
</div>
<br>

<h2>Alcohol dehydrogenase</h2>
<p>
    The <strong>Rossman fold</strong> is an open alpha/beta structure and is a
    common motif for nucleotide (NADP) binding, in proteins. (Based on 3bto.pdb,
    H. Cho et al. (1997) Biochem. <strong>36</strong>: 382-389)
</p>
<div id="jsmolWindow2"></div>
<div style="text-align: center; margin-top: 10px;">
    <button type="button" id="resetBtn2" style="margin-right: 10px;">Reset</button>
    <input type="checkbox" id="spinBox2"> Spin On/Off
</div>
